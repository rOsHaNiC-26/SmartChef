{% extends 'base.html' %}
{% load static %}

{% block content %}
<section class="page-section my-recipes-page">
    <div class="page-header with-action">
        <div>
            <h1 data-en="Manage Recipes" data-hi="‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç" data-mr="‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡§æ">Manage Recipes
            </h1>
            <p data-en="View, edit, or delete and manage all platform recipes"
                data-hi="‡§∏‡§≠‡•Ä ‡§™‡•ç‡§≤‡•á‡§ü‡§´‡§º‡•â‡§∞‡•ç‡§Æ ‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§¶‡•á‡§ñ‡•á‡§Ç, ‡§∏‡§Ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§Ø‡§æ ‡§π‡§ü‡§æ‡§è‡§Ç ‡§î‡§∞ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç"
                data-mr="‡§∏‡§∞‡•ç‡§µ ‡§™‡•ç‡§≤‡•Ö‡§ü‡§´‡•â‡§∞‡•ç‡§Æ ‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§™‡§π‡§æ, ‡§∏‡§Ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡§æ ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§π‡§ü‡§µ‡§æ ‡§Ü‡§£‡§ø ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡§æ">View, edit, or delete
                and manage all platform recipes</p>
        </div>
        <a href="{% url 'add_recipe' %}" class="btn btn-primary btn-lg">
            <i class="fas fa-plus"></i>
            <span data-en="Add New Recipe" data-hi="‡§®‡§à ‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§ú‡•ã‡§°‡§º‡•á‡§Ç" data-mr="‡§®‡§µ‡•Ä‡§® ‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§ú‡•ã‡§°‡§æ">Add New Recipe</span>
        </a>
    </div>

    <!-- Recipes Grid -->
    <div class="recipes-grid my-recipes-grid">
        {% for recipe in recipes %}
        <article class="recipe-card with-actions">
            <div class="recipe-image">
                <img src="{{ recipe.image }}" alt="{{ recipe.title }}" loading="lazy"
                    onerror="this.src='/static/images/default-recipe.jpg'">
                <span class="recipe-category {{ recipe.category }}">{{ recipe.category|title }}</span>
            </div>
            <div class="recipe-content">
                <h3 class="recipe-title" data-en="{{ recipe.title }}"
                    data-hi="{{ recipe.title_hi|default:recipe.title }}"
                    data-mr="{{ recipe.title_mr|default:recipe.title }}">{{ recipe.title }}</h3>
                <div class="recipe-meta">
                    <span><i class="fas fa-clock"></i> {{ recipe.cook_time }}</span>
                    <span><i class="fas fa-users"></i> {{ recipe.servings }} servings</span>
                </div>
                <div class="recipe-stats">
                    <span><i class="fas fa-heart"></i> {{ recipe.likes }}</span>
                    <span><i class="fas fa-eye"></i> {{ recipe.views }}</span>
                </div>
                <div class="recipe-card-actions">
                    <a href="{% url 'recipe_detail' recipe.id %}" class="btn btn-sm btn-outline">
                        <i class="fas fa-eye"></i> View
                    </a>
                    <a href="{% url 'edit_recipe' recipe.id %}" class="btn btn-sm btn-primary">
                        <i class="fas fa-edit"></i> Edit
                    </a>
                    <form action="{% url 'delete_recipe' recipe.id %}" method="POST" class="delete-form"
                        onsubmit="return confirm('Are you sure you want to delete this recipe?');">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-sm btn-danger">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </form>
                </div>
            </div>
        </article>
        {% empty %}
        <div class="empty-state">
            <div class="empty-content">
                <span class="big-emoji">üìù</span>
                <h3 data-en="No recipes yet" data-hi="‡§Ö‡§≠‡•Ä ‡§§‡§ï ‡§ï‡•ã‡§à ‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§®‡§π‡•Ä‡§Ç" data-mr="‡§Ö‡§¶‡•ç‡§Ø‡§æ‡§™ ‡§∞‡•á‡§∏‡§ø‡§™‡•Ä ‡§®‡§æ‡§π‡•Ä‡§§">No recipes
                    yet</h3>
                <p data-en="Start sharing your delicious creations!"
                    data-hi="‡§Ö‡§™‡§®‡•Ä ‡§∏‡•ç‡§µ‡§æ‡§¶‡§ø‡§∑‡•ç‡§ü ‡§ï‡•É‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡§®‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç!"
                    data-mr="‡§§‡•Å‡§Æ‡§ö‡•ç‡§Ø‡§æ ‡§∏‡•ç‡§µ‡§æ‡§¶‡§ø‡§∑‡•ç‡§ü ‡§ï‡•É‡§§‡•Ä ‡§∂‡•á‡§Ö‡§∞ ‡§ï‡§∞‡§æ‡§Ø‡§≤‡§æ ‡§∏‡•Å‡§∞‡•Å‡§µ‡§æ‡§§ ‡§ï‡§∞‡§æ!">Start sharing your delicious creations!
                </p>
                <a href="{% url 'add_recipe' %}" class="btn btn-primary btn-lg">
                    <i class="fas fa-plus"></i> Add Your First Recipe
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
</section>
{% endblock %}